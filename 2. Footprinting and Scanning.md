# Footprinting and Scanning

Goal: Deepin the knowledge of the in-scope servers and services. Fingerprinting. Want to find the OS, purpose of the IP, importance host has to the client. Map the network environment.

 ## Network mapping:
  ping sweep for live assets:
  
      nmap –sn <target>
        
        target can be a NET/CIDR or "–iL hostslist.txt" to invoke using a list of ranges
        
  Note that some networks block ping / do not allow certain servers to respond to ping, therefore this should not be the only way to determine live hosts.
  
   Is a good idea to run a quick sS scan against common ports to the same range
   
    nmap -sS <target>
  
  Then you will want top discover the OS running on each node and chart the OS detected from nmap and its confidence and apply your own judgement. 
  
   Active OS fingerprinting with nmap
   
      nmap -Pn –O <targets>
      
        -O: Enable OS detection
        --osscan-limit: Limit OS detection to promising targets
        --osscan-guess: Guess OS more aggressively
   
   Offline passive OS fingerprinting can be done with [P0f](http://lcamtuf.coredump.cx/p0f3/)
    
  ## Port scanning to find what daemons and services are running on each node
     - NMAP
      
       -sS and -U scans 
        
     - Masscan
     
        meant for larger networks. Faster than nmap, however can be less accurate.
           
  ## Spotting firewalls

   Signs during a network scan that indicate something is blocking connectivity:
   
    Service scan might not pick up the version of common services though the port is open
    
    service type not recognized
      
      This can show up as "tcpwrapped" meaning that the TCP handshake was completed but the remote host closed the connection without receiving any data.
  
  using the namp option "--reason" will explain why a port is marked open or closed.

 
   ## Vulnerability assessment to identify vulnerabilties and prepare for the exploitation phase.
   
   - Automatic scanners:
     - Nessus
     - OpenVAS
     - Nexpose
     - GFI LAN Guard    
     
   - Manual testing
      •Learning and understanding its features
      •Understanding how it exchanges data over the network
      •Understanding how it accesses resources like databases, servers, local and remote files and so on
      •Reverse engineering its logic
    
    
    
    
    
    
    
    
    
    
    
    
    
    
