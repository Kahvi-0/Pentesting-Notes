# Overview of pentesting stages

Pentesting is testing for any and all vulnerabilties, not just ones that grant root. Pentesting is not about rooting systems.
Penetration Testers cannot destroy their client's infrastructure; professional pentesting requires a thorough understanding of attack vectors and their potential.

### Engagement

  Details about the pentest are established during the engagement phase.
  
  Quotation stage: Defines the fee of the pentest depending on:
  
     Type of engagement (black, grey, white box)
     How time-consuming the engagement is
     The complexity of the app and services in scope
     Number of targets (IPs, domains, etc)
     
  Providing a sound and targeted proposal with the clients needs and infra will help win a job.
  
   Should include:
   
    Approach and methodology ( auto scan tools, manual, onsite, etc)
    Value of the test
    Type of test: Pentest or vulnerability assessment? Onsite or remote? etc
   
  Scope: Need to have the scope defined and stay inside it.
  
  Aim to not damage client assets, however there is always a likelyhood of incidents happening.
  Best practise to have an incident handling procedure. If there is none that the client has, then have an emergency contact.
    Set of instructions that need to be executed by you and your customer on how to proceed with an incident

Legal:

  - Sometimes you will need to involve a lawyer as information security laws vary a lot from country to country. Other times, professional insurance is required, and it is strongly advised to have it as it only costs a few hundred dollars per year and can turn out to be very useful just in case
  
  - NDAs 
  
Rules of Engagement:

 Time window for tests, scope, contacts, etc

### Information Gathering 

 GOAL: widen attack surface. 

  Only starts once legal paperwork is completed.
  
  General info such as Board of directors, investors, Managers and employees info. Breach info
  
  Need to understand what is critical to target business as this is what they will be most interested in.

  Infrastructure info gathering.
    
    If you are given Domain names: Using WHOIS and other DNS info
    
    IPs: Find howmany are reachable/ live, apps using the IPs, OS running on the server

  Treat web apps a a whole other beast to recond (Domains, sub, pages, tech, frameworks and CMS <link page>

  - Active
    - Touches machines / will show up on clients logs
  
  - Passive
    - Does not touch target systems. I.e target should have no indication/proof (logs or other) that we are looking into them
    - OSINT
  
### Footprint and Scanning

  Goal: Deepin the knowledge of the in-scope servers and services. Fingerprinting.
  Want to find the OS, purpose of the IP, importance host has to the client. Map the network environment.

  - Port scanning
    - Open ports
     
  - Service enumeration
    - What service and version
  
  - Finding vulnerabilities
    - Build a list of vulneraiblities present on the target system, for all systems in scope.
    - Use data collected in previous steps
    - Automated tools
    
### Exploitation

  - Go though the list of vulnerabilities trying to exploit them.
  - During the exploitation phase a penetration tester checks and validates a vulnerabilityand also widensand increasesthe pentester'sprivileges on the target systems and networks
  
    
After exploitation you will take all the new info gathered and start back at info and gathering again and repeat the cycle until there are no more systems and services in-scope to exploit.    
    
### Reporting

Way to officially deliver and communicate the results of your tests with:•Executives•IT Staff•Development team
  
  The report must address:•Techniques used•Vulnerabilities found•Exploits used•Impact and risk analysis for each vulnerability•Remediation tipsTargeted tips on how to effectiv  
-- OTHER
    
### Persistance

  - How to keep access to that device for later use. 
  - After device has been rebooted

### Covering tracks/cleanup 

 - Make sure network/system is as it was when you entered
 
 - Remove added files
 
 - Remove malware, rootkits, and accounts
 
 - Set settings back to original config

























